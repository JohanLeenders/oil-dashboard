@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   OIL Design Tokens â€” Mission Control Theme
   Source: docs/DESIGN_DIRECTIVE.md (Wave 9)
   ============================================================================ */

:root {
  /* Surface */
  --color-bg-main: #09090b;
  --color-bg-card: rgba(24, 24, 27, 0.7);
  --color-bg-elevated: rgba(39, 39, 42, 0.5);

  /* Borders */
  --color-border-subtle: rgba(255, 255, 255, 0.1);
  --color-border-hover: rgba(255, 255, 255, 0.2);

  /* Accent */
  --color-oil-orange: #F67E20;
  --color-oil-orange-hover: #FB923C;

  /* Data */
  --color-data-gold: #FFBF00;
  --color-data-green: #10B981;
  --color-data-red: #E11D48;

  /* Text */
  --color-text-main: #FFFFFF;
  --color-text-muted: #A1A1AA;
  --color-text-dim: #71717A;

  /* Shape */
  --radius-card: 12px;
  --blur-glass: 12px;

  /* Legacy (backward compat) */
  --color-oranje-500: #f97316;
  --color-oranje-600: #ea580c;
  --color-status-green: #22c55e;
  --color-status-yellow: #eab308;
  --color-status-orange: #f97316;
  --color-status-red: #ef4444;
}

/* ============================================================================
   Base styles
   ============================================================================ */

@layer base {
  body {
    background-color: var(--color-bg-main);
    color: var(--color-text-main);
    font-family: var(--font-inter), 'Inter', system-ui, sans-serif;
  }

  h1 {
    @apply text-2xl font-bold tracking-tight;
  }

  h2 {
    @apply text-xl font-semibold;
  }

  h3 {
    @apply text-lg font-medium;
  }
}

/* ============================================================================
   Component utilities
   ============================================================================ */

@layer components {
  /* OIL Glassmorphism Card */
  .oil-card {
    background: var(--color-bg-card);
    backdrop-filter: blur(var(--blur-glass));
    -webkit-backdrop-filter: blur(var(--blur-glass));
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-card);
    box-shadow: 0 4px 24px -1px rgba(0, 0, 0, 0.2);
  }

  .oil-card-interactive {
    transition: border-color 0.2s ease;
  }

  .oil-card-interactive:hover {
    border-color: var(--color-border-hover);
  }

  /* KPI Tile (legacy compat + new) */
  .kpi-tile {
    background: var(--color-bg-card);
    backdrop-filter: blur(var(--blur-glass));
    -webkit-backdrop-filter: blur(var(--blur-glass));
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-card);
    box-shadow: 0 4px 24px -1px rgba(0, 0, 0, 0.2);
    @apply p-6;
  }

  .kpi-tile-value {
    @apply text-3xl font-bold tabular-nums font-mono;
  }

  .kpi-tile-label {
    color: var(--color-text-muted);
    @apply text-sm;
  }

  /* Status badges */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  .badge-green {
    background: rgba(16, 185, 129, 0.15);
    color: #34d399;
  }

  .badge-orange {
    background: rgba(246, 126, 32, 0.15);
    color: var(--color-oil-orange-hover);
  }

  .badge-red {
    background: rgba(225, 29, 72, 0.15);
    color: #fb7185;
  }

  .badge-gray {
    background: rgba(161, 161, 170, 0.15);
    color: var(--color-text-muted);
  }

  .badge-gold {
    background: rgba(255, 191, 0, 0.15);
    color: var(--color-data-gold);
  }

  /* THT Thermometer */
  .tht-bar {
    @apply h-3 rounded-full overflow-hidden;
    background: rgba(39, 39, 42, 0.5);
  }

  .tht-bar-fill {
    @apply h-full transition-all duration-300;
  }

  .tht-green {
    background-color: var(--color-data-green);
  }

  .tht-orange {
    background-color: var(--color-oil-orange);
  }

  .tht-red {
    background-color: var(--color-data-red);
  }

  /* Data table */
  .data-table {
    @apply w-full;
    border-collapse: separate;
    border-spacing: 0;
  }

  .data-table th {
    @apply px-4 py-3 text-left text-xs font-medium uppercase tracking-wider;
    color: var(--color-text-dim);
    border-bottom: 1px solid var(--color-border-subtle);
  }

  .data-table td {
    @apply px-4 py-3 text-sm;
    border-bottom: 1px solid var(--color-border-subtle);
  }

  .data-table tbody tr {
    transition: background-color 0.15s ease;
  }

  .data-table tbody tr:hover {
    background: var(--color-bg-elevated);
  }

  /* Cards (legacy compat) */
  .card {
    background: var(--color-bg-card);
    backdrop-filter: blur(var(--blur-glass));
    -webkit-backdrop-filter: blur(var(--blur-glass));
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-card);
    box-shadow: 0 4px 24px -1px rgba(0, 0, 0, 0.2);
  }

  .card-header {
    @apply px-6 py-4;
    border-bottom: 1px solid var(--color-border-subtle);
  }

  .card-body {
    @apply p-6;
  }

  /* Navigation (legacy compat) */
  .nav-link {
    @apply flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium;
    color: var(--color-text-muted);
    transition: background-color 0.15s ease, color 0.15s ease;
  }

  .nav-link:hover {
    background: var(--color-bg-elevated);
    color: var(--color-text-main);
  }

  .nav-link-active {
    background: var(--color-oil-orange);
    color: var(--color-text-main);
  }
}

/* ============================================================================
   Utility extensions
   ============================================================================ */

@layer utilities {
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Status colors as bg (legacy compat) */
  .bg-status-green {
    background-color: var(--color-status-green);
  }

  .bg-status-orange {
    background-color: var(--color-status-orange);
  }

  .bg-status-red {
    background-color: var(--color-status-red);
  }

  /* Oranje brand utilities (legacy compat) */
  .bg-oranje-50 {
    background-color: #fff7ed;
  }

  .text-oranje-600 {
    color: #ea580c;
  }

  .border-oranje-500 {
    border-color: #f97316;
  }

  /* Flash animations for simulator impact zone */
  @keyframes flash-red {
    0% { border-color: var(--color-data-red); box-shadow: 0 0 8px var(--color-data-red); }
    100% { border-color: var(--color-border-subtle); box-shadow: none; }
  }

  @keyframes flash-green {
    0% { border-color: var(--color-data-green); box-shadow: 0 0 8px var(--color-data-green); }
    100% { border-color: var(--color-border-subtle); box-shadow: none; }
  }

  .flash-red {
    animation: flash-red 1s ease-out;
  }

  .flash-green {
    animation: flash-green 1s ease-out;
  }

  /* Modal animations (UX-5) */
  @keyframes oil-modal-overlay-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes oil-modal-content-in {
    from { opacity: 0; transform: scale(0.96); }
    to { opacity: 1; transform: scale(1); }
  }
}
